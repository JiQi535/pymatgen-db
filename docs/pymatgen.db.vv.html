
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>pymatgen.db.vv package &#8212; pymatgen-db 2022.3.17 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/flasky.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="pymatgen.db.builders.examples package" href="pymatgen.db.builders.examples.html" />

   
  
  <link media="only screen and (max-device-width: 480px)" href="_static/small_flask.css" type= "text/css" rel="stylesheet" />
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-38991557-1']);
  _gaq.push(['_trackPageview']);
</script>

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="pymatgen.db.builders.examples.html" title="pymatgen.db.builders.examples package"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pymatgen-db 2022.3.17 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="pymatgen.db.html" accesskey="U">pymatgen.db package</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">pymatgen.db.vv package</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="pymatgen-db-vv-package">
<h1>pymatgen.db.vv package<a class="headerlink" href="#pymatgen-db-vv-package" title="Permalink to this headline">¶</a></h1>
<section id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
</div>
</section>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</section>
<section id="module-pymatgen.db.vv.diff">
<span id="pymatgen-db-vv-diff-module"></span><h2>pymatgen.db.vv.diff module<a class="headerlink" href="#module-pymatgen.db.vv.diff" title="Permalink to this headline">¶</a></h2>
<p>Diff collections, as sets</p>
<dl class="py class">
<dt class="sig sig-object py" id="pymatgen.db.vv.diff.Delta">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Delta</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/diff.html#Delta"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.diff.Delta" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Delta between two properties.</p>
<dl class="simple">
<dt>Syntax:</dt><dd><p>+-       Change in sign, 0 not included
+-=      Change in sign, + to 0 or - to 0 included
+-X      abs(new - old) &gt; X
+X-Y     (new - old) &gt; X or (old - new) &gt; Y
+-X=     abs(new - old) &gt;= X
+X-Y=    (new - old) &gt;= X or (old - new) &gt;= Y
+X[=]   Just look in ‘+’ direction
-Y[=]   Just look in ‘-’ direction
…%     Instead of (v2 - v1), use 100*(v2 - v1)/v1</p>
</dd>
</dl>
<p>Constructor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>s</strong> (<em>str</em>) – Expression string</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p>ValueError if it doesn’t match the syntax</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.db.vv.diff.Delta.as_json">
<span class="sig-name descname"><span class="pre">as_json</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/diff.html#Delta.as_json"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.diff.Delta.as_json" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.db.vv.diff.Delta.cmp">
<span class="sig-name descname"><span class="pre">cmp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">old</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/diff.html#Delta.cmp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.diff.Delta.cmp" title="Permalink to this definition">¶</a></dt>
<dd><p>Compare numeric values with delta expression.</p>
<p>Returns True if delta matches (is as large or larger than) this class’ expression.</p>
<p>Delta is computed as (new - old).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>old</strong> (<em>float</em>) – Old value</p></li>
<li><p><strong>new</strong> (<em>float</em>) – New value</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if delta between old and new is large enough, False otherwise</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pymatgen.db.vv.diff.Differ">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Differ</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'_id'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">props</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fltr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deltas</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/diff.html#Differ"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.diff.Differ" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Calculate difference between two collections, based solely on a
selected key.</p>
<p>As noted in <a class="reference internal" href="#pymatgen.db.vv.diff.Differ.diff" title="pymatgen.db.vv.diff.Differ.diff"><code class="xref py py-func docutils literal notranslate"><span class="pre">diff()</span></code></a>, this will not work with huge datasets, as it stores
all the keys in memory in order to do a “set difference” using Python sets.</p>
<p>Constructor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> – Field to use for identifying records</p></li>
<li><p><strong>props</strong> – List of fields to use for matching records</p></li>
<li><p><strong>info</strong> – List of extra fields to retrieve from (and show) for each record.</p></li>
<li><p><strong>fltr</strong> – Filter for records, a MongoDB query expression</p></li>
<li><p><strong>deltas</strong> (<em>dict</em>) – {prop: delta} to check. ‘prop’ is a string, ‘delta’ is an instance of <a class="reference internal" href="#pymatgen.db.vv.diff.Delta" title="pymatgen.db.vv.diff.Delta"><code class="xref py py-class docutils literal notranslate"><span class="pre">Delta</span></code></a>.
Any key for ‘prop’ not in parameter ‘props’ will get added.</p></li>
</ul>
</dd>
<dt class="field-even">Raise</dt>
<dd class="field-even"><p>ValueError if some delta does not parse.</p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="pymatgen.db.vv.diff.Differ.CHANGED">
<span class="sig-name descname"><span class="pre">CHANGED</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'different'</span></em><a class="headerlink" href="#pymatgen.db.vv.diff.Differ.CHANGED" title="Permalink to this definition">¶</a></dt>
<dd><p>Keys in result dictionary.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pymatgen.db.vv.diff.Differ.CHANGED_DELTA">
<span class="sig-name descname"><span class="pre">CHANGED_DELTA</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'delta'</span></em><a class="headerlink" href="#pymatgen.db.vv.diff.Differ.CHANGED_DELTA" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pymatgen.db.vv.diff.Differ.CHANGED_MATCH_DELTA">
<span class="sig-name descname"><span class="pre">CHANGED_MATCH_DELTA</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'delta'</span></em><a class="headerlink" href="#pymatgen.db.vv.diff.Differ.CHANGED_MATCH_DELTA" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pymatgen.db.vv.diff.Differ.CHANGED_MATCH_EXACT">
<span class="sig-name descname"><span class="pre">CHANGED_MATCH_EXACT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'exact'</span></em><a class="headerlink" href="#pymatgen.db.vv.diff.Differ.CHANGED_MATCH_EXACT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pymatgen.db.vv.diff.Differ.CHANGED_MATCH_KEY">
<span class="sig-name descname"><span class="pre">CHANGED_MATCH_KEY</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'match</span> <span class="pre">type'</span></em><a class="headerlink" href="#pymatgen.db.vv.diff.Differ.CHANGED_MATCH_KEY" title="Permalink to this definition">¶</a></dt>
<dd><p>CHANGED result fields</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pymatgen.db.vv.diff.Differ.CHANGED_NEW">
<span class="sig-name descname"><span class="pre">CHANGED_NEW</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'new'</span></em><a class="headerlink" href="#pymatgen.db.vv.diff.Differ.CHANGED_NEW" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pymatgen.db.vv.diff.Differ.CHANGED_OLD">
<span class="sig-name descname"><span class="pre">CHANGED_OLD</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'old'</span></em><a class="headerlink" href="#pymatgen.db.vv.diff.Differ.CHANGED_OLD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pymatgen.db.vv.diff.Differ.MISSING">
<span class="sig-name descname"><span class="pre">MISSING</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'missing'</span></em><a class="headerlink" href="#pymatgen.db.vv.diff.Differ.MISSING" title="Permalink to this definition">¶</a></dt>
<dd><p>Keys in result dictionary.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pymatgen.db.vv.diff.Differ.NEW">
<span class="sig-name descname"><span class="pre">NEW</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'additional'</span></em><a class="headerlink" href="#pymatgen.db.vv.diff.Differ.NEW" title="Permalink to this definition">¶</a></dt>
<dd><p>Keys in result dictionary.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pymatgen.db.vv.diff.Differ.NO_PROPERTY">
<span class="sig-name descname"><span class="pre">NO_PROPERTY</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'__MISSING__'</span></em><a class="headerlink" href="#pymatgen.db.vv.diff.Differ.NO_PROPERTY" title="Permalink to this definition">¶</a></dt>
<dd><p>for missing property</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.db.vv.diff.Differ.diff">
<span class="sig-name descname"><span class="pre">diff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">c1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">only_missing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">only_values</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_dup</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/diff.html#Differ.diff"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.diff.Differ.diff" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform a difference between the 2 collections.
The first collection is treated as the previous one, and the second
is treated as the new one.</p>
<p>Note: this is not ‘big data’-ready; we assume all the records can fit in memory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>c1</strong> (<em>str</em><em> or </em><a class="reference internal" href="pymatgen.db.html#pymatgen.db.query_engine.QueryEngine" title="pymatgen.db.query_engine.QueryEngine"><em>QueryEngine</em></a>) – Collection (1) config file, or QueryEngine object</p></li>
<li><p><strong>c2</strong> (<em>str</em><em> or </em><a class="reference internal" href="pymatgen.db.html#pymatgen.db.query_engine.QueryEngine" title="pymatgen.db.query_engine.QueryEngine"><em>QueryEngine</em></a>) – Collection (2) config file, or QueryEngine object</p></li>
<li><p><strong>only_missing</strong> – Only find and return self.MISSING; ignore ‘new’ keys</p></li>
<li><p><strong>only_values</strong> – Only find and return self.CHANGED; ignore new or missing keys</p></li>
<li><p><strong>allow_dup</strong> – Allow duplicate keys, otherwise fail with ValueError</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>dict with keys self.MISSING, self.NEW (unless only_missing is True), &amp; self.CHANGED,
each a list of records with the key and
any other fields given to the constructor ‘info’ argument.
The meaning is: ‘missing’ are keys that are in c1 not found in c2
‘new’ is keys found in c2 that are not found in c1, and ‘changed’ are records
with the same key that have different ‘props’ values.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pymatgen.db.vv.diff.IID">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">IID</span></span><a class="reference internal" href="_modules/pymatgen/db/vv/diff.html#IID"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.diff.IID" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.db.vv.diff.IID.next">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">next</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/diff.html#IID.next"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.diff.IID.next" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-pymatgen.db.vv.report">
<span id="pymatgen-db-vv-report-module"></span><h2>pymatgen.db.vv.report module<a class="headerlink" href="#module-pymatgen.db.vv.report" title="Permalink to this headline">¶</a></h2>
<p>Description.</p>
<dl class="py class">
<dt class="sig sig-object py" id="pymatgen.db.vv.report.DiffFormatter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DiffFormatter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">meta</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/report.html#DiffFormatter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.report.DiffFormatter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Base class for formatting a ‘diff’ report.</p>
<p>Constructor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>meta</strong> (<em>dict</em>) – Report metadata, must have the following keys:
- start_time, end_time: string repr of report gen. times
- elapsed: float #sec for end_time - start_time
- db1, db2: string repr of 2 input database/collections.</p></li>
<li><p><strong>key</strong> (<em>str</em>) – Record key field</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="pymatgen.db.vv.report.DiffFormatter.TITLE">
<span class="sig-name descname"><span class="pre">TITLE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Materials</span> <span class="pre">Project</span> <span class="pre">Database</span> <span class="pre">Diff</span> <span class="pre">Report'</span></em><a class="headerlink" href="#pymatgen.db.vv.report.DiffFormatter.TITLE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.db.vv.report.DiffFormatter.format">
<span class="sig-name descname"><span class="pre">format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">result</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/report.html#DiffFormatter.format"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.report.DiffFormatter.format" title="Permalink to this definition">¶</a></dt>
<dd><p>Format a report from a result object.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Report body</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.db.vv.report.DiffFormatter.ordered_cols">
<span class="sig-name descname"><span class="pre">ordered_cols</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">columns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">section</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/report.html#DiffFormatter.ordered_cols"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.report.DiffFormatter.ordered_cols" title="Permalink to this definition">¶</a></dt>
<dd><p>Return ordered list of columns, from given columns and the name of the section</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.db.vv.report.DiffFormatter.result_subsets">
<span class="sig-name descname"><span class="pre">result_subsets</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/report.html#DiffFormatter.result_subsets"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.report.DiffFormatter.result_subsets" title="Permalink to this definition">¶</a></dt>
<dd><p>Break a result set into subsets with the same keys.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>rs</strong> (<em>list of dict</em>) – Result set, rows of a result as a list of dicts</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A set with distinct keys (tuples), and a dict, by these tuples, of max. widths for each column</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.db.vv.report.DiffFormatter.sort_rows">
<span class="sig-name descname"><span class="pre">sort_rows</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rows</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">section</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/report.html#DiffFormatter.sort_rows"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.report.DiffFormatter.sort_rows" title="Permalink to this definition">¶</a></dt>
<dd><p>Sort the rows, as appropriate for the section.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rows</strong> – List of tuples (all same length, same values in each position)</p></li>
<li><p><strong>section</strong> – Name of section, should match const in Differ class</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None; rows are sorted in-place</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pymatgen.db.vv.report.DiffHtmlFormatter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DiffHtmlFormatter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">meta</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">url</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">email_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/report.html#DiffHtmlFormatter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.report.DiffHtmlFormatter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pymatgen.db.vv.report.DiffFormatter" title="pymatgen.db.vv.report.DiffFormatter"><code class="xref py py-class docutils literal notranslate"><span class="pre">pymatgen.db.vv.report.DiffFormatter</span></code></a></p>
<p>Format an HTML diff report.</p>
<p>Constructor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>meta</strong> – see superclass</p></li>
<li><p><strong>url</strong> (<em>str</em>) – Optional URL to create hyperlink for keys</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="pymatgen.db.vv.report.DiffHtmlFormatter.DIFF_CSS">
<span class="sig-name descname"><span class="pre">DIFF_CSS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['.header</span> <span class="pre">{padding:</span> <span class="pre">5px;</span> <span class="pre">margin:</span> <span class="pre">0</span> <span class="pre">5px;}',</span> <span class="pre">'.header</span> <span class="pre">h1</span> <span class="pre">{color:</span> <span class="pre">#165F4B;</span> <span class="pre">font-size:</span> <span class="pre">20;</span> <span class="pre">text-align:</span> <span class="pre">left;</span> <span class="pre">margin-left:</span> <span class="pre">20px;}',</span> <span class="pre">'.header</span> <span class="pre">p</span> <span class="pre">{color:</span> <span class="pre">#666666;</span> <span class="pre">margin-left:</span> <span class="pre">20px;</span> <span class="pre">height:</span> <span class="pre">12px;}',</span> <span class="pre">'.header</span> <span class="pre">p</span> <span class="pre">em</span> <span class="pre">{color:</span> <span class="pre">#4169E1;</span> <span class="pre">font-style:</span> <span class="pre">normal;}',</span> <span class="pre">'.content</span> <span class="pre">{padding:</span> <span class="pre">15px;</span> <span class="pre">padding-top:</span> <span class="pre">0px;</span> <span class="pre">margin:</span> <span class="pre">0;</span> <span class="pre">background-color:</span> <span class="pre">#F3F3F3;}',</span> <span class="pre">'.content</span> <span class="pre">h2</span> <span class="pre">{color:</span> <span class="pre">#2C3E50;</span> <span class="pre">font-size:</span> <span class="pre">16px;}',</span> <span class="pre">'.empty</span> <span class="pre">{</span> <span class="pre">font-size:</span> <span class="pre">14px;</span> <span class="pre">font-style:</span> <span class="pre">italic;}',</span> <span class="pre">'.section</span> <span class="pre">{padding:</span> <span class="pre">5px;</span> <span class="pre">margin:</span> <span class="pre">10px;</span> <span class="pre">background-color:</span> <span class="pre">#E2E2E2;</span> <span class="pre">border-radius:</span> <span class="pre">5px;}',</span> <span class="pre">'.section</span> <span class="pre">div</span> <span class="pre">{margin-left:</span> <span class="pre">10px;}',</span> <span class="pre">'.section</span> <span class="pre">table</span> <span class="pre">{margin-left:</span> <span class="pre">5px;}',</span> <span class="pre">'tr:nth-child(even)</span> <span class="pre">{</span> <span class="pre">background-color:</span> <span class="pre">white;</span> <span class="pre">}',</span> <span class="pre">'tr:nth-child(odd)</span> <span class="pre">{</span> <span class="pre">background-color:</span> <span class="pre">#F5F5F5;</span> <span class="pre">}',</span> <span class="pre">'tr:nth-child(1)</span> <span class="pre">{</span> <span class="pre">background-color:</span> <span class="pre">#778899;</span> <span class="pre">font-weight:</span> <span class="pre">500;}',</span> <span class="pre">'th,</span> <span class="pre">td</span> <span class="pre">{padding:</span> <span class="pre">0.2em</span> <span class="pre">0.5em;}',</span> <span class="pre">'th</span> <span class="pre">{</span> <span class="pre">text-align:</span> <span class="pre">left;</span>&#160; <span class="pre">color:</span> <span class="pre">white;</span> <span class="pre">margin:</span> <span class="pre">0;}',</span> <span class="pre">'.fixed</span> <span class="pre">{</span> <span class="pre">font-family:</span> <span class="pre">Consolas,</span> <span class="pre">monaco,</span> <span class="pre">monospace;</span> <span class="pre">}']</span></em><a class="headerlink" href="#pymatgen.db.vv.report.DiffHtmlFormatter.DIFF_CSS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pymatgen.db.vv.report.DiffHtmlFormatter.css">
<span class="sig-name descname"><span class="pre">css</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[&quot;html</span> <span class="pre">{</span> <span class="pre">font-family:</span> <span class="pre">'Helvetica</span> <span class="pre">Neue',</span> <span class="pre">Helvetica,</span> <span class="pre">Arial,</span> <span class="pre">sans-serif;</span> <span class="pre">}&quot;,</span> <span class="pre">'body</span> <span class="pre">{</span> <span class="pre">margin:</span> <span class="pre">2em;}',</span> <span class="pre">'table</span> <span class="pre">{</span> <span class="pre">margin-top:</span> <span class="pre">1em;</span> <span class="pre">clear:</span> <span class="pre">both;</span> <span class="pre">border:</span> <span class="pre">0;}',</span> <span class="pre">'dl,</span> <span class="pre">dt,</span> <span class="pre">dd</span> <span class="pre">{</span> <span class="pre">float:</span> <span class="pre">left;</span> <span class="pre">}',</span> <span class="pre">'dl,</span> <span class="pre">dt</span> <span class="pre">{</span> <span class="pre">clear:</span> <span class="pre">both;</span> <span class="pre">}',</span> <span class="pre">'dt</span> <span class="pre">{</span> <span class="pre">width:</span> <span class="pre">8em;</span> <span class="pre">font-weight:</span> <span class="pre">700;</span> <span class="pre">}',</span> <span class="pre">'dd</span> <span class="pre">{</span> <span class="pre">width:</span> <span class="pre">32em;</span> <span class="pre">}',</span> <span class="pre">'tr:nth-child(even)</span> <span class="pre">{</span> <span class="pre">background-color:</span> <span class="pre">#E9E9E9;</span> <span class="pre">}',</span> <span class="pre">'tr:nth-child(odd)</span> <span class="pre">{</span> <span class="pre">background-color:</span> <span class="pre">#E9E9E9;</span> <span class="pre">}',</span> <span class="pre">'th,</span> <span class="pre">td</span> <span class="pre">{padding:</span> <span class="pre">0.2em</span> <span class="pre">0.5em;}',</span> <span class="pre">'th</span> <span class="pre">{</span> <span class="pre">text-align:</span> <span class="pre">left;</span>&#160; <span class="pre">color:</span> <span class="pre">black;</span> <span class="pre">margin:</span> <span class="pre">0;</span> <span class="pre">font-weight:</span> <span class="pre">300;}',</span> <span class="pre">'h1,</span> <span class="pre">h2,</span> <span class="pre">h3</span> <span class="pre">{</span> <span class="pre">clear:</span> <span class="pre">both;</span> <span class="pre">margin:</span> <span class="pre">0;</span> <span class="pre">padding:</span> <span class="pre">0;</span> <span class="pre">}',</span> <span class="pre">'h1</span> <span class="pre">{</span> <span class="pre">font-size:</span> <span class="pre">18;</span> <span class="pre">color:</span> <span class="pre">rgb(44,</span> <span class="pre">62,</span> <span class="pre">80);</span> <span class="pre">}',</span> <span class="pre">'h2</span> <span class="pre">{</span> <span class="pre">font-size:</span> <span class="pre">14;</span> <span class="pre">color:</span> <span class="pre">black;</span> <span class="pre">}',</span> <span class="pre">'.header</span> <span class="pre">{padding:</span> <span class="pre">5px;</span> <span class="pre">margin:</span> <span class="pre">0</span> <span class="pre">5px;}',</span> <span class="pre">'.header</span> <span class="pre">h1</span> <span class="pre">{color:</span> <span class="pre">#165F4B;</span> <span class="pre">font-size:</span> <span class="pre">20;</span> <span class="pre">text-align:</span> <span class="pre">left;</span> <span class="pre">margin-left:</span> <span class="pre">20px;}',</span> <span class="pre">'.header</span> <span class="pre">p</span> <span class="pre">{color:</span> <span class="pre">#666666;</span> <span class="pre">margin-left:</span> <span class="pre">20px;</span> <span class="pre">height:</span> <span class="pre">12px;}',</span> <span class="pre">'.header</span> <span class="pre">p</span> <span class="pre">em</span> <span class="pre">{color:</span> <span class="pre">#4169E1;</span> <span class="pre">font-style:</span> <span class="pre">normal;}',</span> <span class="pre">'.content</span> <span class="pre">{padding:</span> <span class="pre">15px;</span> <span class="pre">padding-top:</span> <span class="pre">0px;</span> <span class="pre">margin:</span> <span class="pre">0;</span> <span class="pre">background-color:</span> <span class="pre">#F3F3F3;}',</span> <span class="pre">'.content</span> <span class="pre">h2</span> <span class="pre">{color:</span> <span class="pre">#2C3E50;</span> <span class="pre">font-size:</span> <span class="pre">16px;}',</span> <span class="pre">'.empty</span> <span class="pre">{</span> <span class="pre">font-size:</span> <span class="pre">14px;</span> <span class="pre">font-style:</span> <span class="pre">italic;}',</span> <span class="pre">'.section</span> <span class="pre">{padding:</span> <span class="pre">5px;</span> <span class="pre">margin:</span> <span class="pre">10px;</span> <span class="pre">background-color:</span> <span class="pre">#E2E2E2;</span> <span class="pre">border-radius:</span> <span class="pre">5px;}',</span> <span class="pre">'.section</span> <span class="pre">div</span> <span class="pre">{margin-left:</span> <span class="pre">10px;}',</span> <span class="pre">'.section</span> <span class="pre">table</span> <span class="pre">{margin-left:</span> <span class="pre">5px;}',</span> <span class="pre">'tr:nth-child(even)</span> <span class="pre">{</span> <span class="pre">background-color:</span> <span class="pre">white;</span> <span class="pre">}',</span> <span class="pre">'tr:nth-child(odd)</span> <span class="pre">{</span> <span class="pre">background-color:</span> <span class="pre">#F5F5F5;</span> <span class="pre">}',</span> <span class="pre">'tr:nth-child(1)</span> <span class="pre">{</span> <span class="pre">background-color:</span> <span class="pre">#778899;</span> <span class="pre">font-weight:</span> <span class="pre">500;}',</span> <span class="pre">'th,</span> <span class="pre">td</span> <span class="pre">{padding:</span> <span class="pre">0.2em</span> <span class="pre">0.5em;}',</span> <span class="pre">'th</span> <span class="pre">{</span> <span class="pre">text-align:</span> <span class="pre">left;</span>&#160; <span class="pre">color:</span> <span class="pre">white;</span> <span class="pre">margin:</span> <span class="pre">0;}',</span> <span class="pre">'.fixed</span> <span class="pre">{</span> <span class="pre">font-family:</span> <span class="pre">Consolas,</span> <span class="pre">monaco,</span> <span class="pre">monospace;</span> <span class="pre">}']</span></em><a class="headerlink" href="#pymatgen.db.vv.report.DiffHtmlFormatter.css" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.db.vv.report.DiffHtmlFormatter.format">
<span class="sig-name descname"><span class="pre">format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">result</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/report.html#DiffHtmlFormatter.format"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.report.DiffHtmlFormatter.format" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate HTML report.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Report body</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.db.vv.report.DiffHtmlFormatter.style">
<span class="sig-name descname"><span class="pre">style</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">css_class</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">elt</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/report.html#DiffHtmlFormatter.style"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.report.DiffHtmlFormatter.style" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pymatgen.db.vv.report.DiffHtmlFormatter.styles">
<span class="sig-name descname"><span class="pre">styles</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'content':</span> <span class="pre">{'_':</span> <span class="pre">'padding:</span> <span class="pre">15px;</span> <span class="pre">padding-top:</span> <span class="pre">0px;</span> <span class="pre">margin:</span> <span class="pre">0;</span> <span class="pre">background-color:</span> <span class="pre">#F3F3F3',</span> <span class="pre">'h2':</span> <span class="pre">'color:</span> <span class="pre">#2C3E50;</span> <span class="pre">font-size:</span> <span class="pre">16px',</span> <span class="pre">'section':</span> <span class="pre">'padding:</span> <span class="pre">5px;</span> <span class="pre">margin:</span> <span class="pre">10px;</span> <span class="pre">background-color:</span> <span class="pre">#E2E2E2;</span> <span class="pre">border-radius:</span> <span class="pre">5px'},</span> <span class="pre">'header':</span> <span class="pre">{'em':</span> <span class="pre">'color:</span> <span class="pre">#4169E1;</span> <span class="pre">font-style:</span> <span class="pre">normal',</span> <span class="pre">'h1':</span> <span class="pre">'color:</span> <span class="pre">#165F4B;</span> <span class="pre">font-size:</span> <span class="pre">20;</span> <span class="pre">text-align:</span> <span class="pre">left;</span> <span class="pre">margin-left:</span> <span class="pre">20px',</span> <span class="pre">'p':</span> <span class="pre">'color:</span> <span class="pre">#666666;</span> <span class="pre">margin-left:</span> <span class="pre">20px;</span> <span class="pre">height:</span> <span class="pre">12px'},</span> <span class="pre">'table':</span> <span class="pre">{'table':</span> <span class="pre">'margin-top:</span> <span class="pre">1em;</span> <span class="pre">clear:</span> <span class="pre">both;</span> <span class="pre">border:</span> <span class="pre">0',</span> <span class="pre">'td':</span> <span class="pre">'padding:</span> <span class="pre">0.2em</span> <span class="pre">0.5em',</span> <span class="pre">'th':</span> <span class="pre">'text-align:</span> <span class="pre">left;</span>&#160; <span class="pre">color:</span> <span class="pre">white;</span> <span class="pre">margin:</span> <span class="pre">0;</span> <span class="pre">padding:</span> <span class="pre">0.2em</span> <span class="pre">0.5em',</span> <span class="pre">'tr1':</span> <span class="pre">'background-color:</span> <span class="pre">#778899;</span> <span class="pre">font-weight:</span> <span class="pre">500',</span> <span class="pre">'tr_even':</span> <span class="pre">'background-color:</span> <span class="pre">white',</span> <span class="pre">'tr_odd':</span> <span class="pre">'background-color:</span> <span class="pre">#F5F5F5'}}</span></em><a class="headerlink" href="#pymatgen.db.vv.report.DiffHtmlFormatter.styles" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pymatgen.db.vv.report.DiffJsonFormatter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DiffJsonFormatter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">meta</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pretty</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/report.html#DiffJsonFormatter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.report.DiffJsonFormatter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pymatgen.db.vv.report.DiffFormatter" title="pymatgen.db.vv.report.DiffFormatter"><code class="xref py py-class docutils literal notranslate"><span class="pre">pymatgen.db.vv.report.DiffFormatter</span></code></a></p>
<p>Constructor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>meta</strong> – see superclass</p></li>
<li><p><strong>pretty</strong> (<em>bool</em>) – Indented format</p></li>
</ul>
</dd>
</dl>
<dl class="py class">
<dt class="sig sig-object py" id="pymatgen.db.vv.report.DiffJsonFormatter.Encoder">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Encoder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skipkeys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ensure_ascii</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_circular</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_nan</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sort_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">separators</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/report.html#DiffJsonFormatter.Encoder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.report.DiffJsonFormatter.Encoder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">json.encoder.JSONEncoder</span></code></p>
<p>Constructor for JSONEncoder, with sensible defaults.</p>
<p>If skipkeys is false, then it is a TypeError to attempt
encoding of keys that are not str, int, float or None.  If
skipkeys is True, such items are simply skipped.</p>
<p>If ensure_ascii is true, the output is guaranteed to be str
objects with all incoming non-ASCII characters escaped.  If
ensure_ascii is false, the output can contain non-ASCII characters.</p>
<p>If check_circular is true, then lists, dicts, and custom encoded
objects will be checked for circular references during encoding to
prevent an infinite recursion (which would cause an OverflowError).
Otherwise, no such check takes place.</p>
<p>If allow_nan is true, then NaN, Infinity, and -Infinity will be
encoded as such.  This behavior is not JSON specification compliant,
but is consistent with most JavaScript based encoders and decoders.
Otherwise, it will be a ValueError to encode such floats.</p>
<p>If sort_keys is true, then the output of dictionaries will be
sorted by key; this is useful for regression tests to ensure
that JSON serializations can be compared on a day-to-day basis.</p>
<p>If indent is a non-negative integer, then JSON array
elements and object members will be pretty-printed with that
indent level.  An indent level of 0 will only insert newlines.
None is the most compact representation.</p>
<p>If specified, separators should be an (item_separator, key_separator)
tuple.  The default is (’, ‘, ‘: ‘) if <em>indent</em> is <code class="docutils literal notranslate"><span class="pre">None</span></code> and
(‘,’, ‘: ‘) otherwise.  To get the most compact JSON representation,
you should specify (‘,’, ‘:’) to eliminate whitespace.</p>
<p>If specified, default is a function that gets called for objects
that can’t otherwise be serialized.  It should return a JSON encodable
version of the object or raise a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code>.</p>
<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.db.vv.report.DiffJsonFormatter.Encoder.default">
<span class="sig-name descname"><span class="pre">default</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">o</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/report.html#DiffJsonFormatter.Encoder.default"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.report.DiffJsonFormatter.Encoder.default" title="Permalink to this definition">¶</a></dt>
<dd><p>Implement this method in a subclass such that it returns
a serializable object for <code class="docutils literal notranslate"><span class="pre">o</span></code>, or calls the base implementation
(to raise a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code>).</p>
<p>For example, to support arbitrary iterators, you could
implement default like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">default</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">iterable</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
        <span class="k">pass</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">iterable</span><span class="p">)</span>
    <span class="c1"># Let the base class default method raise the TypeError</span>
    <span class="k">return</span> <span class="n">JSONEncoder</span><span class="o">.</span><span class="n">default</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.db.vv.report.DiffJsonFormatter.document">
<span class="sig-name descname"><span class="pre">document</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">result</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/report.html#DiffJsonFormatter.document"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.report.DiffJsonFormatter.document" title="Permalink to this definition">¶</a></dt>
<dd><p>Build dict for MongoDB, expanding result keys as we go.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.db.vv.report.DiffJsonFormatter.format">
<span class="sig-name descname"><span class="pre">format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">result</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/report.html#DiffJsonFormatter.format"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.report.DiffJsonFormatter.format" title="Permalink to this definition">¶</a></dt>
<dd><p>Format a report from a result object.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Report body</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.db.vv.report.DiffJsonFormatter.will_copy">
<span class="sig-name descname"><span class="pre">will_copy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/report.html#DiffJsonFormatter.will_copy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.report.DiffJsonFormatter.will_copy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pymatgen.db.vv.report.DiffTextFormatter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DiffTextFormatter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">meta</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/report.html#DiffTextFormatter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.report.DiffTextFormatter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pymatgen.db.vv.report.DiffFormatter" title="pymatgen.db.vv.report.DiffFormatter"><code class="xref py py-class docutils literal notranslate"><span class="pre">pymatgen.db.vv.report.DiffFormatter</span></code></a></p>
<p>Format a plain-text diff report.</p>
<p>Constructor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>meta</strong> (<em>dict</em>) – Report metadata, must have the following keys:
- start_time, end_time: string repr of report gen. times
- elapsed: float #sec for end_time - start_time
- db1, db2: string repr of 2 input database/collections.</p></li>
<li><p><strong>key</strong> (<em>str</em>) – Record key field</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.db.vv.report.DiffTextFormatter.format">
<span class="sig-name descname"><span class="pre">format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">result</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/report.html#DiffTextFormatter.format"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.report.DiffTextFormatter.format" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate plain text report.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Report body</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pymatgen.db.vv.report.Emailer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Emailer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sender</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'me&#64;localhost'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recipients</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">('you&#64;remote.host',)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subject</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Report'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">server</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'localhost'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">port</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/report.html#Emailer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.report.Emailer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pymatgen.db.vv.util.DoesLogging" title="pymatgen.db.vv.util.DoesLogging"><code class="xref py py-class docutils literal notranslate"><span class="pre">pymatgen.db.vv.util.DoesLogging</span></code></a></p>
<p>Send a report to an email recipient.</p>
<p>Send reports as email.</p>
<dl class="field-list simple">
<dt class="field-odd">Param</dt>
<dd class="field-odd"><p>sender Sender of the email</p>
</dd>
<dt class="field-even">Param</dt>
<dd class="field-even"><p>recipients List of _recipients of the email</p>
</dd>
<dt class="field-odd">Param</dt>
<dd class="field-odd"><p>subject Email _subject line</p>
</dd>
<dt class="field-even">Param</dt>
<dd class="field-even"><p>server SMTP server host</p>
</dd>
<dt class="field-odd">Param</dt>
<dd class="field-odd"><p>port SMTP server port (None for default)</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.db.vv.report.Emailer.send">
<span class="sig-name descname"><span class="pre">send</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fmt</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/report.html#Emailer.send"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.report.Emailer.send" title="Permalink to this definition">¶</a></dt>
<dd><p>Send the email message.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>text</strong> (<em>str</em>) – The text to send</p></li>
<li><p><strong>fmt</strong> (<em>str</em>) – The name of the format of the text</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Number of recipients it was sent to</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pymatgen.db.vv.report.Emailer.subject">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">subject</span></span><a class="headerlink" href="#pymatgen.db.vv.report.Emailer.subject" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pymatgen.db.vv.report.HTMLFormatter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">HTMLFormatter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">line_sep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'\n'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id_column</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">css</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/report.html#HTMLFormatter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.report.HTMLFormatter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Format a report as HTML.</p>
<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.db.vv.report.HTMLFormatter.format">
<span class="sig-name descname"><span class="pre">format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">report</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/report.html#HTMLFormatter.format"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.report.HTMLFormatter.format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pymatgen.db.vv.report.Header">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Header</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/report.html#Header"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.report.Header" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Base header class.</p>
<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.db.vv.report.Header.add">
<span class="sig-name descname"><span class="pre">add</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/report.html#Header.add"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.report.Header.add" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.db.vv.report.Header.as_dict">
<span class="sig-name descname"><span class="pre">as_dict</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/report.html#Header.as_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.report.Header.as_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.db.vv.report.Header.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/report.html#Header.get"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.report.Header.get" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pymatgen.db.vv.report.JSONFormatter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">JSONFormatter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">id_column</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/report.html#JSONFormatter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.report.JSONFormatter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Format a report as JSON.</p>
<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.db.vv.report.JSONFormatter.format">
<span class="sig-name descname"><span class="pre">format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">report</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/report.html#JSONFormatter.format"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.report.JSONFormatter.format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pymatgen.db.vv.report.MarkdownFormatter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MarkdownFormatter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">id_column</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/report.html#MarkdownFormatter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.report.MarkdownFormatter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Format a report as markdown</p>
<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.db.vv.report.MarkdownFormatter.format">
<span class="sig-name descname"><span class="pre">format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">report</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/report.html#MarkdownFormatter.format"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.report.MarkdownFormatter.format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pymatgen.db.vv.report.Report">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Report</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">header</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/report.html#Report"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.report.Report" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Create blank report, with a header.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>header</strong> (<a class="reference internal" href="#pymatgen.db.vv.report.Header" title="pymatgen.db.vv.report.Header"><em>Header</em></a>) – Report header</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.db.vv.report.Report.add_section">
<span class="sig-name descname"><span class="pre">add_section</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">section</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/report.html#Report.add_section"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.report.Report.add_section" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pymatgen.db.vv.report.Report.header">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">header</span></span><a class="headerlink" href="#pymatgen.db.vv.report.Report.header" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.db.vv.report.Report.is_empty">
<span class="sig-name descname"><span class="pre">is_empty</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/report.html#Report.is_empty"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.report.Report.is_empty" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="pymatgen.db.vv.report.ReportBackupError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ReportBackupError</span></span><a class="reference internal" href="_modules/pymatgen/db/vv/report.html#ReportBackupError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.report.ReportBackupError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pymatgen.db.vv.report.ReportHeader">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ReportHeader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/report.html#ReportHeader"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.report.ReportHeader" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pymatgen.db.vv.report.Header" title="pymatgen.db.vv.report.Header"><code class="xref py py-class docutils literal notranslate"><span class="pre">pymatgen.db.vv.report.Header</span></code></a></p>
<p>Header for entire report.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pymatgen.db.vv.report.ReportJSONEncoder">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ReportJSONEncoder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skipkeys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ensure_ascii</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_circular</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_nan</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sort_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">separators</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/report.html#ReportJSONEncoder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.report.ReportJSONEncoder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="pymatgen.db.html#pymatgen.db.util.MongoJSONEncoder" title="pymatgen.db.util.MongoJSONEncoder"><code class="xref py py-class docutils literal notranslate"><span class="pre">pymatgen.db.util.MongoJSONEncoder</span></code></a></p>
<p>Constructor for JSONEncoder, with sensible defaults.</p>
<p>If skipkeys is false, then it is a TypeError to attempt
encoding of keys that are not str, int, float or None.  If
skipkeys is True, such items are simply skipped.</p>
<p>If ensure_ascii is true, the output is guaranteed to be str
objects with all incoming non-ASCII characters escaped.  If
ensure_ascii is false, the output can contain non-ASCII characters.</p>
<p>If check_circular is true, then lists, dicts, and custom encoded
objects will be checked for circular references during encoding to
prevent an infinite recursion (which would cause an OverflowError).
Otherwise, no such check takes place.</p>
<p>If allow_nan is true, then NaN, Infinity, and -Infinity will be
encoded as such.  This behavior is not JSON specification compliant,
but is consistent with most JavaScript based encoders and decoders.
Otherwise, it will be a ValueError to encode such floats.</p>
<p>If sort_keys is true, then the output of dictionaries will be
sorted by key; this is useful for regression tests to ensure
that JSON serializations can be compared on a day-to-day basis.</p>
<p>If indent is a non-negative integer, then JSON array
elements and object members will be pretty-printed with that
indent level.  An indent level of 0 will only insert newlines.
None is the most compact representation.</p>
<p>If specified, separators should be an (item_separator, key_separator)
tuple.  The default is (’, ‘, ‘: ‘) if <em>indent</em> is <code class="docutils literal notranslate"><span class="pre">None</span></code> and
(‘,’, ‘: ‘) otherwise.  To get the most compact JSON representation,
you should specify (‘,’, ‘:’) to eliminate whitespace.</p>
<p>If specified, default is a function that gets called for objects
that can’t otherwise be serialized.  It should return a JSON encodable
version of the object or raise a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code>.</p>
<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.db.vv.report.ReportJSONEncoder.default">
<span class="sig-name descname"><span class="pre">default</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">o</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/report.html#ReportJSONEncoder.default"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.report.ReportJSONEncoder.default" title="Permalink to this definition">¶</a></dt>
<dd><p>Implement this method in a subclass such that it returns
a serializable object for <code class="docutils literal notranslate"><span class="pre">o</span></code>, or calls the base implementation
(to raise a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code>).</p>
<p>For example, to support arbitrary iterators, you could
implement default like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">default</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">iterable</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
        <span class="k">pass</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">iterable</span><span class="p">)</span>
    <span class="c1"># Let the base class default method raise the TypeError</span>
    <span class="k">return</span> <span class="n">JSONEncoder</span><span class="o">.</span><span class="n">default</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pymatgen.db.vv.report.ReportSection">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ReportSection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">header</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">body</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/report.html#ReportSection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.report.ReportSection" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pymatgen.db.vv.report.Report" title="pymatgen.db.vv.report.Report"><code class="xref py py-class docutils literal notranslate"><span class="pre">pymatgen.db.vv.report.Report</span></code></a></p>
<p>Section within a report, with data.</p>
<p>Create new report section, initialized with header and body.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>header</strong> (<a class="reference internal" href="#pymatgen.db.vv.report.SectionHeader" title="pymatgen.db.vv.report.SectionHeader"><em>SectionHeader</em></a>) – The header for the section</p></li>
<li><p><strong>body</strong> (<a class="reference internal" href="#pymatgen.db.vv.report.Table" title="pymatgen.db.vv.report.Table"><em>Table</em></a>) – The body of the section, or None if this is a container for sub-sections</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="pymatgen.db.vv.report.ReportSection.body">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">body</span></span><a class="headerlink" href="#pymatgen.db.vv.report.ReportSection.body" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pymatgen.db.vv.report.SectionHeader">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SectionHeader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/report.html#SectionHeader"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.report.SectionHeader" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pymatgen.db.vv.report.Header" title="pymatgen.db.vv.report.Header"><code class="xref py py-class docutils literal notranslate"><span class="pre">pymatgen.db.vv.report.Header</span></code></a></p>
<p>Header for one section of a report.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pymatgen.db.vv.report.Table">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">colnames</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/report.html#Table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.report.Table" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Table of values.</p>
<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.db.vv.report.Table.add">
<span class="sig-name descname"><span class="pre">add</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/report.html#Table.add"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.report.Table.add" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pymatgen.db.vv.report.Table.column_names">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">column_names</span></span><a class="headerlink" href="#pymatgen.db.vv.report.Table.column_names" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pymatgen.db.vv.report.Table.column_widths">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">column_widths</span></span><a class="headerlink" href="#pymatgen.db.vv.report.Table.column_widths" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pymatgen.db.vv.report.Table.ncol">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ncol</span></span><a class="headerlink" href="#pymatgen.db.vv.report.Table.ncol" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pymatgen.db.vv.report.Table.nrow">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">nrow</span></span><a class="headerlink" href="#pymatgen.db.vv.report.Table.nrow" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.db.vv.report.Table.sortby">
<span class="sig-name descname"><span class="pre">sortby</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name_or_index</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/report.html#Table.sortby"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.report.Table.sortby" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pymatgen.db.vv.report.Table.values">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">values</span></span><a class="headerlink" href="#pymatgen.db.vv.report.Table.values" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.db.vv.report.css_minify">
<span class="sig-name descname"><span class="pre">css_minify</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/report.html#css_minify"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.report.css_minify" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="module-pymatgen.db.vv.util">
<span id="pymatgen-db-vv-util-module"></span><h2>pymatgen.db.vv.util module<a class="headerlink" href="#module-pymatgen.db.vv.util" title="Permalink to this headline">¶</a></h2>
<p>Utility functions and classes for validation.</p>
<dl class="py class">
<dt class="sig sig-object py" id="pymatgen.db.vv.util.DoesLogging">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DoesLogging</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/util.html#DoesLogging"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.util.DoesLogging" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Mix-in class that creates the attribute ‘log’, setting its qualified
name to the name of the module and class.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pymatgen.db.vv.util.ElapsedTime">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ElapsedTime</span></span><a class="reference internal" href="_modules/pymatgen/db/vv/util.html#ElapsedTime"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.util.ElapsedTime" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pymatgen.db.vv.util.JsonWalker">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">JsonWalker</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value_transform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dict_transform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/util.html#JsonWalker"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.util.JsonWalker" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Walk a dict, transforming.
Used for JSON formatting.</p>
<p>Constructor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value_transform</strong> (<em>function taking a single arg</em><em> (</em><em>the value</em><em>)</em>) – Apply this function to each value in a list or dict.</p></li>
<li><p><strong>dict_transform</strong> (<em>function taking a single arg</em><em> (</em><em>the dict</em><em>)</em>) – Apply this function to each dict</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.db.vv.util.JsonWalker.dict_expand">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">dict_expand</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">o</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/util.html#JsonWalker.dict_expand"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.util.JsonWalker.dict_expand" title="Permalink to this definition">¶</a></dt>
<dd><p>Expand keys in a dict with ‘.’ in them into
sub-dictionaries, e.g.</p>
<p>{‘a.b.c’: ‘foo’} ==&gt; {‘a’: {‘b’: {‘c’: ‘foo’}}}</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.db.vv.util.JsonWalker.value_json">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">value_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">o</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/util.html#JsonWalker.value_json"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.util.JsonWalker.value_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply as_json() method on object to get value,
otherwise return object itself as the value.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.db.vv.util.JsonWalker.walk">
<span class="sig-name descname"><span class="pre">walk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">o</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/util.html#JsonWalker.walk"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.util.JsonWalker.walk" title="Permalink to this definition">¶</a></dt>
<dd><p>Walk a dict &amp; transform.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pymatgen.db.vv.util.Timing">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Timing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'event'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">elapsed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/util.html#Timing"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.util.Timing" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Perform and report timings using the ‘with’ keyword.</p>
<dl class="simple">
<dt>For example:</dt><dd><dl class="simple">
<dt>with Timing(‘foo’, info=’bar’):</dt><dd><p>do_foo1()
do_foo2()</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pymatgen.db.vv.util.YamlConfig">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">YamlConfig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">option_strings</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dest</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">const</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">choices</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">required</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">help</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metavar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/util.html#YamlConfig"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.util.YamlConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">argparse.Action</span></code></p>
<p>Populate arguments with YAML file contents.</p>
<dl class="simple">
<dt>Adapted from:</dt><dd><p><a class="reference external" href="http://code.activestate.com/recipes/577918-filling-command-line-arguments-with-a-file/">http://code.activestate.com/recipes/577918-filling-command-line-arguments-with-a-file/</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.db.vv.util.args_kvp_nodup">
<span class="sig-name descname"><span class="pre">args_kvp_nodup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/util.html#args_kvp_nodup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.util.args_kvp_nodup" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse argument string as key=value pairs separated by commas.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>s</strong> – Argument string</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Parsed value</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p>ValueError for format violations or a duplicated key.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.db.vv.util.args_list">
<span class="sig-name descname"><span class="pre">args_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/util.html#args_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.util.args_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse argument string as list of values separated by commas.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>s</strong> – Argument string</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Parsed value</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.db.vv.util.letter_num">
<span class="sig-name descname"><span class="pre">letter_num</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">letter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'A'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/util.html#letter_num"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.util.letter_num" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.db.vv.util.total_size">
<span class="sig-name descname"><span class="pre">total_size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">o</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">handlers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/util.html#total_size"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.util.total_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the approximate memory footprint an object and all of its contents.</p>
<p>Automatically finds the contents of the following builtin containers and
their subclasses:  tuple, list, deque, dict, set and frozenset.
To search other containers, add handlers to iterate over their contents:</p>
<blockquote>
<div><dl class="simple">
<dt>handlers = {SomeContainerClass: iter,</dt><dd><p>OtherContainerClass: OtherContainerClass.get_elements}</p>
</dd>
</dl>
</div></blockquote>
<p>Source: <a class="reference external" href="http://code.activestate.com/recipes/577504/">http://code.activestate.com/recipes/577504/</a> (r3)</p>
</dd></dl>

</section>
<section id="module-pymatgen.db.vv.validate">
<span id="pymatgen-db-vv-validate-module"></span><h2>pymatgen.db.vv.validate module<a class="headerlink" href="#module-pymatgen.db.vv.validate" title="Permalink to this headline">¶</a></h2>
<p>Collection validator</p>
<dl class="py class">
<dt class="sig sig-object py" id="pymatgen.db.vv.validate.ConstraintSpec">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ConstraintSpec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spec</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/validate.html#ConstraintSpec"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.validate.ConstraintSpec" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pymatgen.db.vv.util.DoesLogging" title="pymatgen.db.vv.util.DoesLogging"><code class="xref py py-class docutils literal notranslate"><span class="pre">pymatgen.db.vv.util.DoesLogging</span></code></a></p>
<p>Specification of a set of constraints for a collection.</p>
<p>Create specification from a configuration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>spec</strong> (<em>dict</em>) – Configuration for a single collection</p>
</dd>
<dt class="field-even">Raise</dt>
<dd class="field-even"><p>ValueError if specification is wrong</p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="pymatgen.db.vv.validate.ConstraintSpec.CONSTRAINT_SECT">
<span class="sig-name descname"><span class="pre">CONSTRAINT_SECT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'constraints'</span></em><a class="headerlink" href="#pymatgen.db.vv.validate.ConstraintSpec.CONSTRAINT_SECT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pymatgen.db.vv.validate.ConstraintSpec.FILTER_SECT">
<span class="sig-name descname"><span class="pre">FILTER_SECT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'filter'</span></em><a class="headerlink" href="#pymatgen.db.vv.validate.ConstraintSpec.FILTER_SECT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pymatgen.db.vv.validate.ConstraintSpec.SAMPLE_SECT">
<span class="sig-name descname"><span class="pre">SAMPLE_SECT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'sample'</span></em><a class="headerlink" href="#pymatgen.db.vv.validate.ConstraintSpec.SAMPLE_SECT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pymatgen.db.vv.validate.ConstraintSpecSection">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ConstraintSpecSection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fltr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">constraints</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/validate.html#ConstraintSpecSection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.validate.ConstraintSpecSection" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py property">
<dt class="sig sig-object py" id="pymatgen.db.vv.validate.ConstraintSpecSection.constraints">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">constraints</span></span><a class="headerlink" href="#pymatgen.db.vv.validate.ConstraintSpecSection.constraints" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pymatgen.db.vv.validate.ConstraintSpecSection.filters">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">filters</span></span><a class="headerlink" href="#pymatgen.db.vv.validate.ConstraintSpecSection.filters" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.db.vv.validate.ConstraintSpecSection.get_key">
<span class="sig-name descname"><span class="pre">get_key</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/validate.html#ConstraintSpecSection.get_key"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.validate.ConstraintSpecSection.get_key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pymatgen.db.vv.validate.ConstraintSpecSection.sampler">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sampler</span></span><a class="headerlink" href="#pymatgen.db.vv.validate.ConstraintSpecSection.sampler" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pymatgen.db.vv.validate.ConstraintViolation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ConstraintViolation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">constraint</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expected</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/validate.html#ConstraintViolation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.validate.ConstraintViolation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A single constraint violation, with no metadata.</p>
<p>Create new constraint violation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>constraint</strong> (<em>Constraint</em>) – The constraint that was violated</p>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="pymatgen.db.vv.validate.ConstraintViolation.expected_value">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">expected_value</span></span><a class="headerlink" href="#pymatgen.db.vv.validate.ConstraintViolation.expected_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pymatgen.db.vv.validate.ConstraintViolation.field">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">field</span></span><a class="headerlink" href="#pymatgen.db.vv.validate.ConstraintViolation.field" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pymatgen.db.vv.validate.ConstraintViolation.got_value">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">got_value</span></span><a class="headerlink" href="#pymatgen.db.vv.validate.ConstraintViolation.got_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pymatgen.db.vv.validate.ConstraintViolation.op">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">op</span></span><a class="headerlink" href="#pymatgen.db.vv.validate.ConstraintViolation.op" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pymatgen.db.vv.validate.ConstraintViolationGroup">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ConstraintViolationGroup</span></span><a class="reference internal" href="_modules/pymatgen/db/vv/validate.html#ConstraintViolationGroup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.validate.ConstraintViolationGroup" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A group of constraint violations with metadata.</p>
<p>Create an empty object.</p>
<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.db.vv.validate.ConstraintViolationGroup.add_violations">
<span class="sig-name descname"><span class="pre">add_violations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">violations</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">record</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/validate.html#ConstraintViolationGroup.add_violations"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.validate.ConstraintViolationGroup.add_violations" title="Permalink to this definition">¶</a></dt>
<dd><p>Add constraint violations and associated record.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>violations</strong> (<em>list</em><em>(</em><a class="reference internal" href="#pymatgen.db.vv.validate.ConstraintViolation" title="pymatgen.db.vv.validate.ConstraintViolation"><em>ConstraintViolation</em></a><em>)</em>) – List of violations</p></li>
<li><p><strong>record</strong> (<em>dict</em>) – Associated record</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="pymatgen.db.vv.validate.DBError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DBError</span></span><a class="reference internal" href="_modules/pymatgen/db/vv/validate.html#DBError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.validate.DBError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pymatgen.db.vv.validate.NullConstraintViolation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">NullConstraintViolation</span></span><a class="reference internal" href="_modules/pymatgen/db/vv/validate.html#NullConstraintViolation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.validate.NullConstraintViolation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pymatgen.db.vv.validate.ConstraintViolation" title="pymatgen.db.vv.validate.ConstraintViolation"><code class="xref py py-class docutils literal notranslate"><span class="pre">pymatgen.db.vv.validate.ConstraintViolation</span></code></a></p>
<p>Empty constraint violation, for when there are no constraints.</p>
<p>Create new constraint violation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>constraint</strong> (<em>Constraint</em>) – The constraint that was violated</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pymatgen.db.vv.validate.ProgressMeter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ProgressMeter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fmt</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/validate.html#ProgressMeter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.validate.ProgressMeter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Simple progress tracker</p>
<dl class="py property">
<dt class="sig sig-object py" id="pymatgen.db.vv.validate.ProgressMeter.count">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">count</span></span><a class="headerlink" href="#pymatgen.db.vv.validate.ProgressMeter.count" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.db.vv.validate.ProgressMeter.set_subject">
<span class="sig-name descname"><span class="pre">set_subject</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subj</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/validate.html#ProgressMeter.set_subject"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.validate.ProgressMeter.set_subject" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.db.vv.validate.ProgressMeter.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/validate.html#ProgressMeter.update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.validate.ProgressMeter.update" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pymatgen.db.vv.validate.Projection">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Projection</span></span><a class="reference internal" href="_modules/pymatgen/db/vv/validate.html#Projection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.validate.Projection" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Fields on which to project the query results.</p>
<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.db.vv.validate.Projection.add">
<span class="sig-name descname"><span class="pre">add</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">field</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">op</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">val</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/validate.html#Projection.add"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.validate.Projection.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Update report fields to include new one, if it doesn’t already.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>field</strong> (<em>Field</em>) – The field to include</p></li>
<li><p><strong>op</strong> (<em>ConstraintOperator</em>) – Operation</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.db.vv.validate.Projection.to_mongo">
<span class="sig-name descname"><span class="pre">to_mongo</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/validate.html#Projection.to_mongo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.validate.Projection.to_mongo" title="Permalink to this definition">¶</a></dt>
<dd><p>Translate projection to MongoDB query form.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Dictionary to put into a MongoDB JSON query</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pymatgen.db.vv.validate.PythonMethod">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">PythonMethod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/validate.html#PythonMethod"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.validate.PythonMethod" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Encapsulate an external Python method that will be run on our target
MongoDB collection to perform arbitrary types of validation.</p>
<p>Create new instance from a raw constraint string.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p>ValidatorSyntaxerror</p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="pymatgen.db.vv.validate.PythonMethod.BAD_CONSTRAINT_ERR">
<span class="sig-name descname"><span class="pre">BAD_CONSTRAINT_ERR</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Invalid</span> <span class="pre">constraint</span> <span class="pre">(must</span> <span class="pre">be:</span> <span class="pre">&#64;&lt;method&gt;</span> <span class="pre">[&lt;param&gt;</span> <span class="pre">..])'</span></em><a class="headerlink" href="#pymatgen.db.vv.validate.PythonMethod.BAD_CONSTRAINT_ERR" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pymatgen.db.vv.validate.PythonMethod.CANNOT_COMBINE_ERR">
<span class="sig-name descname"><span class="pre">CANNOT_COMBINE_ERR</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Call</span> <span class="pre">to</span> <span class="pre">a</span> <span class="pre">Python</span> <span class="pre">method</span> <span class="pre">cannot</span> <span class="pre">be</span> <span class="pre">combined</span> <span class="pre">'</span></em><a class="headerlink" href="#pymatgen.db.vv.validate.PythonMethod.CANNOT_COMBINE_ERR" title="Permalink to this definition">¶</a></dt>
<dd><p>with any other constraints</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.db.vv.validate.PythonMethod.constraint_is_method">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">constraint_is_method</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/validate.html#PythonMethod.constraint_is_method"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.validate.PythonMethod.constraint_is_method" title="Permalink to this definition">¶</a></dt>
<dd><p>Check from the text of the constraint whether it is
a Python method, as opposed to a ‘normal’ constraint.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True if it is, False if not</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pymatgen.db.vv.validate.Sampler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Sampler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">min_items</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_items</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000000000.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distrib</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/validate.html#Sampler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.validate.Sampler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pymatgen.db.vv.util.DoesLogging" title="pymatgen.db.vv.util.DoesLogging"><code class="xref py py-class docutils literal notranslate"><span class="pre">pymatgen.db.vv.util.DoesLogging</span></code></a></p>
<p>Randomly sample a proportion of the full collection.</p>
<p>Create new parameterized sampler.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>min_items</strong> – Minimum number of items in the sample</p></li>
<li><p><strong>max_items</strong> – Maximum number of items in the sample</p></li>
<li><p><strong>p</strong> – Probability of selecting an item</p></li>
<li><p><strong>distrib</strong> (<em>str</em><em> or </em><em>int</em>) – Probability distribution code, one of DIST_&lt;name&gt; in this class</p></li>
</ul>
</dd>
<dt class="field-even">Raise</dt>
<dd class="field-even"><p>ValueError, if <cite>distrib</cite> is an unknown code or string</p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="pymatgen.db.vv.validate.Sampler.DEFAULT_DIST">
<span class="sig-name descname"><span class="pre">DEFAULT_DIST</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#pymatgen.db.vv.validate.Sampler.DEFAULT_DIST" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pymatgen.db.vv.validate.Sampler.DIST_CODES">
<span class="sig-name descname"><span class="pre">DIST_CODES</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'uniform':</span> <span class="pre">1}</span></em><a class="headerlink" href="#pymatgen.db.vv.validate.Sampler.DIST_CODES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pymatgen.db.vv.validate.Sampler.DIST_RUNIF">
<span class="sig-name descname"><span class="pre">DIST_RUNIF</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#pymatgen.db.vv.validate.Sampler.DIST_RUNIF" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pymatgen.db.vv.validate.Sampler.is_empty">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_empty</span></span><a class="headerlink" href="#pymatgen.db.vv.validate.Sampler.is_empty" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.db.vv.validate.Sampler.sample">
<span class="sig-name descname"><span class="pre">sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cursor</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/validate.html#Sampler.sample"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.validate.Sampler.sample" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract records randomly from the database.
Continue until the target proportion of the items have been
extracted, or until <cite>min_items</cite> if this is larger.
If <cite>max_items</cite> is non-negative, do not extract more than these.</p>
<p>This function is a generator, yielding items incrementally.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>cursor</strong> (<em>pymongo.cursor.Cursor</em>) – Cursor to sample</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>yields each item</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
<dt class="field-even">Raise</dt>
<dd class="field-even"><p>ValueError, if max_items is valid and less than <cite>min_items</cite>
or if target collection is empty</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pymatgen.db.vv.validate.Validator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Validator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">max_violations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">50</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_dberrors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">aliases</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_exists</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/validate.html#Validator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.validate.Validator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pymatgen.db.vv.util.DoesLogging" title="pymatgen.db.vv.util.DoesLogging"><code class="xref py py-class docutils literal notranslate"><span class="pre">pymatgen.db.vv.util.DoesLogging</span></code></a></p>
<p>Validate a collection.</p>
<dl class="py class">
<dt class="sig sig-object py" id="pymatgen.db.vv.validate.Validator.SectionParts">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SectionParts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cond</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">body</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sampler</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">report_fields</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/validate.html#Validator.SectionParts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.validate.Validator.SectionParts" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Encapsulate the tuple of information for each section of filters, constraints,
etc. within a collection.</p>
<p>Create new initialized set of parts.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cond</strong> (<em>MongoQuery</em>) – Condition to filter records</p></li>
<li><p><strong>body</strong> (<em>MongoQuery</em>) – Main set of constraints</p></li>
<li><p><strong>sampler</strong> (<a class="reference internal" href="#pymatgen.db.vv.validate.Sampler" title="pymatgen.db.vv.validate.Sampler"><em>Sampler</em></a>) – Sampling class if any</p></li>
<li><p><strong>report_fields</strong> (<em>list</em>) – Fields to report on</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.db.vv.validate.Validator.num_violations">
<span class="sig-name descname"><span class="pre">num_violations</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/validate.html#Validator.num_violations"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.validate.Validator.num_violations" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.db.vv.validate.Validator.set_aliases">
<span class="sig-name descname"><span class="pre">set_aliases</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/validate.html#Validator.set_aliases"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.validate.Validator.set_aliases" title="Permalink to this definition">¶</a></dt>
<dd><p>Set aliases and wrap errors in ValueError</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.db.vv.validate.Validator.set_progress">
<span class="sig-name descname"><span class="pre">set_progress</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/validate.html#Validator.set_progress"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.validate.Validator.set_progress" title="Permalink to this definition">¶</a></dt>
<dd><p>Report progress every <cite>num</cite> bad records.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>num</strong> (<em>int</em>) – Report interval</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pymatgen.db.vv.validate.Validator.validate">
<span class="sig-name descname"><span class="pre">validate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">coll</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">constraint_spec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subject</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'collection'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/validate.html#Validator.validate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.validate.Validator.validate" title="Permalink to this definition">¶</a></dt>
<dd><p>Validation of  a collection.
This is a generator that yields ConstraintViolationGroups.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>coll</strong> (<em>pymongo.Collection</em>) – Mongo collection</p></li>
<li><p><strong>constraint_spec</strong> (<a class="reference internal" href="#pymatgen.db.vv.validate.ConstraintSpec" title="pymatgen.db.vv.validate.ConstraintSpec"><em>ConstraintSpec</em></a>) – Constraint specification</p></li>
<li><p><strong>subject</strong> (<em>str</em>) – Name of the thing being validated</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Sets of constraint violation, one for each constraint_section</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#pymatgen.db.vv.validate.ConstraintViolationGroup" title="pymatgen.db.vv.validate.ConstraintViolationGroup">ConstraintViolationGroup</a></p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p>ValidatorSyntaxError</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="pymatgen.db.vv.validate.ValidatorSyntaxError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ValidatorSyntaxError</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">desc</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/validate.html#ValidatorSyntaxError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.validate.ValidatorSyntaxError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>Syntax error in configuration of Validator</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pymatgen.db.vv.validate.mongo_get">
<span class="sig-name descname"><span class="pre">mongo_get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymatgen/db/vv/validate.html#mongo_get"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pymatgen.db.vv.validate.mongo_get" title="Permalink to this definition">¶</a></dt>
<dd><p>Get value from dict using MongoDB dot-separated path semantics.
For example:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">mongo_get</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span> <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">},</span> <span class="s1">&#39;a.b&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">mongo_get</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span> <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">},</span> <span class="s1">&#39;x&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">mongo_get</span><span class="p">({</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span> <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">},</span> <span class="s1">&#39;a.b.c&#39;</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rec</strong> – mongodb document</p></li>
<li><p><strong>key</strong> – path to mongo value</p></li>
<li><p><strong>default</strong> – default to return if not found</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>value, potentially nested, or default if not found</p>
</dd>
<dt class="field-odd">Raise</dt>
<dd class="field-odd"><p>ValueError, if record is not a dict.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-pymatgen.db.vv">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-pymatgen.db.vv" title="Permalink to this headline">¶</a></h2>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">pymatgen.db.vv package</a><ul>
<li><a class="reference internal" href="#subpackages">Subpackages</a></li>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-pymatgen.db.vv.diff">pymatgen.db.vv.diff module</a></li>
<li><a class="reference internal" href="#module-pymatgen.db.vv.report">pymatgen.db.vv.report module</a></li>
<li><a class="reference internal" href="#module-pymatgen.db.vv.util">pymatgen.db.vv.util module</a></li>
<li><a class="reference internal" href="#module-pymatgen.db.vv.validate">pymatgen.db.vv.validate module</a></li>
<li><a class="reference internal" href="#module-pymatgen.db.vv">Module contents</a></li>
</ul>
</li>
</ul>

  </div><h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="pymatgen.db.html">pymatgen.db package</a><ul>
      <li>Previous: <a href="pymatgen.db.builders.examples.html" title="previous chapter">pymatgen.db.builders.examples package</a></li>
  </ul></li>
  </ul></li>
</ul>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/pymatgen.db.vv.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>

    <div class="footer">
      &copy; Copyright 2016, Shyue Ping Ong, Dan Gunter.
    </div>
<div class="footer">This page uses <a href="http://analytics.google.com/">
Google Analytics</a> to collect statistics. You can disable it by blocking
the JavaScript coming from www.google-analytics.com.
<script type="text/javascript">
  (function() {
    var ga = document.createElement('script');
    ga.src = ('https:' == document.location.protocol ?
              'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    ga.setAttribute('async', 'true');
    document.documentElement.firstChild.appendChild(ga);
  })();
</script>
</div>

  </body>
</html>